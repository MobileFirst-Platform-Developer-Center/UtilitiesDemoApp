# Security

The next step in creating this app is to create the security to authenticate a user before they can access sensitive customer information. We will do this by using the MobileFirst security framework to easily implement the OAuth2 protocal to do a handshake with the server for a live token every time a resource request is made via the adapter.

When the app is first launched, it will take you to a login screen where you can sign into the app. In our example, the username and password used in the security adapter logic is such that the user name and password are the same values.

In this lab you will explore the Auth service that will communicate between the login controller and the security adapter.

## Authentication Service


## Login Controller

To view the login controller that was made you can navigate to the **login.js** file of the app. There you can view our very simple login controller where we implement our function to log into the server. 

```javascript
app.controller('LoginCtrl', function ($scope, $state, Auth, $ionicHistory, WorkItems) {
	var authInProgress = false;
	
	...
	
	$scope.login = function () {
		console.log("login function entered");
	
		// Validate input
		if (!$scope.credentials.username || !$scope.credentials.password) {
			// No username or password entered
		} else if ($scope.credentials.username === $scope.credentials.password) {
			// Proceed to login
			if (!authInProgress) {
				Auth.login($scope, $scope.credentials.username.toLowerCase(), $scope.credentials.password.toLowerCase());
				authInProgress = true;					} else {
				// Show error username / password does not match.
				console.log('username and password do not match.');
			}
		}
	};
	
	...
	
});
```

Once authenticated, you will be redirected to the engineer's work item page. If the login credentials are invalid, you will receive a popup describing the error. Additionally, the MobileFirst security framework handles the time-to-live of the OAuth token so that when the token's life expires, a user will be redirected to the login page.
