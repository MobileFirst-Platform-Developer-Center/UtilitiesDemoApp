<!--
Copyright 2016 IBM Corp.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<ion-view view-title="Work Item" name="item" align-title="center">
	<ion-content class="padding">
		<div class = "row">
			<p ng-controller="ReportEquipmentCtrl">{{name}}</p>
		</div>

		<!-- TODO: Make dynamic -->
		<div class = "row">
			<span class="date">{{date | date:"MM/dd/yyyy 'at' h:mma"}}</span><br />
		</div>

    <!-- TODO: Make dynamic -->
    <div class = "row">
      <span class="street">{{address}}</span><br />
    </div>

    <!-- We want the recorder controls to stick to the top -->
  <div class = "row">
    <div class="button-bar">
       <a class="button icon ion-mic-a" ng-click="record()"></a>
       <a class="button icon ion-share" ng-click="selectExistingFile()"></a>
       <a class="button icon ion-help-circled" ng-click="getHelp()"></a>
      <!-- <a class="button icon ion-android-cancel" ng-click="resetRecorder()"></a>-->
    </div>
  </div>

		<ion-list>
			<!-- Model -->
			<ion-item class="item-input item-floating-label">
				<span class="input-label">Model</span>
				<input class="info-input" type="text" value="" placeholder="Model" ng-model="details.model">
			</ion-item>

			<!-- Serial -->
			<ion-item class="item-input item-floating-label">
				<span class="input-label">Serial</span>
				<input class="info-input" type="text" value="" placeholder="Serial" ng-model="details.serial">
			</ion-item>

			<!-- Manufacturer -->
			<ion-item class="item-input item-floating-label">
				<span class="input-label">Manufacturer</span>
				<input class="item-input" type="text" value="" placeholder="Manufacturer" ng-model="details.manufacturer">
			</ion-item>

			<!-- Manufacture Year -->
			<ion-item class="item-input item-floating-label">
				<span class="input-label">Manufacture Year</span>
				<input class="item-input" type="number" value="" placeholder="Manufacture Year" ng-model="details.manufactureYear">
			</ion-item>

			<!-- Insepction Status -->
			<ion-item class="item-input item-select">
				<div class="input-label">
					Inspection Status
				</div>
				<select ng-model="fail" ng-change="showReason(fail)">
					<option ng-selected="selected">Pass</option>
					<option>Fail</option>
				</select>
			</ion-item>

			<!-- Fail Reason -->
			<ion-item class="item-input item-floating-label" ng-show="!details.inspectionPass">
				<span class="input-label">Failure Reason</span>
				<textarea placeholder="enter failure reason here..." ng-model="details.failReason" ng-minlength="1"></textarea>
			</ion-item>

			<!-- Notes -->
			<ion-item class="item-input item-floating-label">
				<span class="input-label">Comments</span>
				<textarea placeholder="enter notes here..." ng-model="details.comments"></textarea>
			</ion-item>

		</ion-list>
		<!-- Submit button -->
		<button class="button button-block button-calm" ng-disabled="submitDisabled()" ng-click="submit(details)">Submit</button>
	</ion-content>
</ion-view>
